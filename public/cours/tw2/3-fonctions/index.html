<!doctype html>
<html lang="fr">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../../../favicon.png" />

		<meta name="viewport" content="width=device-width" />
		
		<link href="../../../_app/immutable/assets/0.DeOizrWX.css" rel="stylesheet">
		<link href="../../../_app/immutable/assets/2.Dz1qT87F.css" rel="stylesheet">
		<link href="../../../_app/immutable/assets/Reveal.BYkb6MAx.css" rel="stylesheet">
		<link rel="modulepreload" href="../../../_app/immutable/entry/start.Bnp5303b.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/Cugo8Sw9.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/_Roc1N7j.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/Du4uIILg.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/DYGiXs1v.js">
		<link rel="modulepreload" href="../../../_app/immutable/entry/app.gFT0rYy9.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/jKjWACjA.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/CozvbqRy.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/CU3E0FLs.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/B4pklceG.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/pFiT_qqh.js">
		<link rel="modulepreload" href="../../../_app/immutable/nodes/0.BjDQT2Bq.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/CMei0t4b.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/Bgovi1YL.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/D4AmcDfz.js">
		<link rel="modulepreload" href="../../../_app/immutable/nodes/2.CBLjlu0K.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/B0BGekoV.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/BMkXc6el.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/Cv3pZryr.js">
		<link rel="modulepreload" href="../../../_app/immutable/nodes/3.B95jCVCL.js">
		<link rel="modulepreload" href="../../../_app/immutable/nodes/9.BS-EFjXZ.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/Cs1o_ong.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/DyuDGlf2.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/OjqImkSQ.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/Dayddfh2.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/DcJyaQfQ.js"><!--[--><!--]--><!--[--><!--]--><title>Johan Girod</title>
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents"><!--[--><!--[--><!----><div class="screen:container prose-h2 container prose prose-slate mx-auto my-12 px-4 lg:prose-xl prose-headings:text-slate-800 prose-h1:font-semibold prose-a:transition prose-a:duration-75 hover:prose-a:text-pink-500 lg:px-0 print:mx-0 print:max-w-none"><!----><!--[--><!----><div class="lg:prose-lg"><div style="view-transition-name: breadcrumb"><div class="mb-2 inline" role="list"><!--[--><li class="inline-block"><a href="/" class="text-pink-600" aria-label="Accueil">Accueil</a> <!--[--><span class="mx-2 text-gray-500">/</span><!--]--></li><li class="inline-block"><a href="/cours/" class="text-pink-600" aria-label="Cours et TP">Cours et TP</a> <!--[--><span class="mx-2 text-gray-500">/</span><!--]--></li><li class="inline-block"><a href="http://sveltekit-prerender/cours/tw2/3-fonctions/" class="text-pink-600" aria-label="...">...</a> <!--[!--><!--]--></li><!--]--></div><!----> <!--[--><span class="ml-2 inline-block rounded-full bg-pink-500 px-2 py-1 text-sm font-semibold text-white">Avec corrigé</span><!--]--></div> <main class="mt-8 prose-h1:inline-block prose-h1:border-y-8 prose-h1:border-pink-500 prose-h1:px-2 prose-h1:pb-3 prose-h1:pt-2 prose-h1:text-4xl prose-h2:text-3xl"><!----><!--[--><!----><!----><!--[!--><!----><div class="prose-code:radius-none prose-code:font-mono prose-code:font- mt-14 prose-h1:text-5xl prose-h2:text-3xl prose-h2:text-pink-500 prose-p:text-2xl prose-blockquote:text-2xl prose-blockquote:font-normal prose-blockquote:text-pink-500 prose-code:w-auto prose-code:rounded prose-pre:bg-slate-100 prose-pre:text-left prose-pre:text-xl prose-li:text-left prose-li:text-2xl md:-ml-14 md:-mr-14"><div class="reveal rounded-md border border-gray-200 shadow-lg svelte-1xe5mne"><!--[--><div class="absolute z-50 flex h-full w-full items-center justify-center bg-white"><div class="absolute z-50 flex h-full w-full items-center justify-center bg-white"><div class="h-32 w-32 animate-spin"><svg class="h-full w-full text-pink-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0
                                3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg></div></div></div><!--]--> <div class="slides"><!----><section><h1>Utilisations des fonctions en Javascript</h1> <h2 class="text-pink-500">Technologie web 2</h2> <p class="text-gray-500">Johan Girod</p></section> <section><section><h1>Les fonctions en JavaScript</h1> <h2>Approfondissement</h2></section> <section><h2>Rappel : syntaxes pour écrire une fonction</h2> <pre><code class="language-javascript" data-trim="" data-noescape="" data-line-numbers="">
			<script type="text/template">
					function add1(a, b) {
						return a + b;
					}
					const add2 = (a, b) => {
						return a + b;
					};
					const add3 = (a, b) => a + b;
				</script>
		</code></pre></section> <!--[--><section data-auto-animate=""><h2>Javascript est un langage fonctionnel</h2> <!--[--><p class="pb-6 text-gray-500">Les fonctions sont des <strong>objets de première classe</strong>.</p><!--]--> <aside class="notes">Comme OCAML</aside> <ol><!--[!--><!--]--> <!--[!--><!--]--> <!--[!--><!--]--></ol> <!--[!--><!--]--> <!--[!--><!--]--> <!--[!--><!--]--> <!--[!--><!--]--> <!--[!--><!--]--></section><section data-auto-animate=""><h2>Javascript est un langage fonctionnel</h2> <!--[!--><!--]--> <aside class="notes">Comme OCAML</aside> <ol><!--[--><li>Une fonction peut être <strong>assignées à une variable</strong></li><!--]--> <!--[!--><!--]--> <!--[!--><!--]--></ol> <!--[!--><!--]--> <!--[!--><!--]--> <!--[!--><!--]--> <!--[!--><!--]--> <!--[--><div class="r-stretch"></div><!--]--></section><section data-auto-animate=""><h2>Javascript est un langage fonctionnel</h2> <!--[!--><!--]--> <aside class="notes">Comme OCAML</aside> <ol><!--[--><li>Une fonction peut être <strong>assignées à une variable</strong></li><!--]--> <!--[!--><!--]--> <!--[!--><!--]--></ol> <!--[--><h3>Exemple 1</h3> <pre><code class="language-js" data-trim="" data-noescape="" data-line-numbers="">
			<script type="text/template">
							function sayHello() {
								console.log('Hello!');
							}
							const foo = sayHello; // la variable foo contient la fonction sayHello
							foo();
						</script>
			</code></pre><!--]--> <!--[!--><!--]--> <!--[!--><!--]--> <!--[!--><!--]--> <!--[--><div class="r-stretch"></div><!--]--></section><section data-auto-animate=""><h2>Javascript est un langage fonctionnel</h2> <!--[!--><!--]--> <aside class="notes">Comme OCAML</aside> <ol><!--[--><li>Une fonction peut être <strong>assignées à une variable</strong></li><!--]--> <!--[!--><!--]--> <!--[!--><!--]--></ol> <!--[!--><!--]--> <!--[--><h3>Exemple 2</h3> <pre><code class="language-js" data-trim="" data-noescape="" data-line-numbers="">
			<script type="text/template">
							const operations = {
								add: (a, b) => {
									return a + b;
								}
							};

							const addition = operations.add; // la variable addition contient une fonction
							addition(3, 2);
						</script>
		</code></pre><!--]--> <!--[!--><!--]--> <!--[!--><!--]--> <!--[--><div class="r-stretch"></div><!--]--></section><section data-auto-animate=""><h2>Javascript est un langage fonctionnel</h2> <!--[!--><!--]--> <aside class="notes">Comme OCAML</aside> <ol><!--[--><li class="opacity-50">Une fonction peut être <strong>assignées à une variable</strong></li><!--]--> <!--[--><li>Une fonction peut être <strong>passée en paramètre</strong> d'une autre fonction</li><!--]--> <!--[!--><!--]--></ol> <!--[!--><!--]--> <!--[!--><!--]--> <!--[--><h3>Exemple 3</h3> <pre data-id="code-animation">					<code class="language-js" data-trim="" data-noescape="" data-line-numbers="">
						<!--[-->
							<script type="text/template">
								function repeat(n, callback) {
									for (let i = 0; i < n; i++) {
										callback();
									}
								}

								repeat(10, () => console.log('Hello!'));
							</script>
						<!--]-->
						<!--[!--><!--]-->
					</code>
				</pre><!--]--> <!--[!--><!--]--> <!--[--><div class="r-stretch"></div><!--]--></section><section data-auto-animate=""><h2>Javascript est un langage fonctionnel</h2> <!--[!--><!--]--> <aside class="notes">Comme OCAML</aside> <ol><!--[--><li class="opacity-50">Une fonction peut être <strong>assignées à une variable</strong></li><!--]--> <!--[--><li>Une fonction peut être <strong>passée en paramètre</strong> d'une autre fonction</li><!--]--> <!--[!--><!--]--></ol> <!--[!--><!--]--> <!--[!--><!--]--> <!--[--><h3>Exemple 3</h3> <pre data-id="code-animation">					<code class="language-js" data-trim="" data-noescape="" data-line-numbers="">
						<!--[!--><!--]-->
						<!--[-->
							<script type="text/template">
								function repeat(n, callback) {
									for (let i = 0; i < n; i++) {
										callback();
									}
								}
								const sayHello = () => console.log('Hello!');
								repeat(10, sayHello);
							</script>
						<!--]-->
					</code>
				</pre><!--]--> <!--[!--><!--]--> <!--[--><div class="r-stretch"></div><!--]--></section><section data-auto-animate=""><h2>Javascript est un langage fonctionnel</h2> <!--[!--><!--]--> <aside class="notes">Comme OCAML</aside> <ol><!--[--><li class="opacity-50">Une fonction peut être <strong>assignées à une variable</strong></li><!--]--> <!--[--><li class="opacity-50">Une fonction peut être <strong>passée en paramètre</strong> d'une autre fonction</li><!--]--> <!--[--><li>Une fonction peut être <strong>retournée par une fonction</strong></li><!--]--></ol> <!--[!--><!--]--> <!--[!--><!--]--> <!--[!--><!--]--> <!--[--><h3>Exemple 4</h3> <pre><code class="language-javascript" data-trim="" data-noescape="" data-line-numbers="">
						<script type="text/template">
							function createSayHelloFunction(name) {
								return () => console.log(`Hello ${name}!`);
							}

							// la variable sayHelloToJohn contient une fonction
							const sayHelloToJohn = createSayHelloFunction('John');

							sayHelloToJohn();
						</script>;
				</code></pre><!--]--> <!--[--><div class="r-stretch"></div><!--]--></section><section data-auto-animate=""><h2>Javascript est un langage fonctionnel</h2> <!--[!--><!--]--> <aside class="notes">Comme OCAML</aside> <ol class="py-12"><!--[--><li>Une fonction peut être <strong>assignées à une variable</strong></li><!--]--> <!--[--><li>Une fonction peut être <strong>passée en paramètre</strong> d'une autre fonction</li><!--]--> <!--[--><li>Une fonction peut être <strong>retournée par une fonction</strong></li><!--]--></ol> <!--[!--><!--]--> <!--[!--><!--]--> <!--[!--><!--]--> <!--[!--><!--]--> <!--[!--><!--]--></section><!--]--> <section data-auto-animate=""><h2>Compile / compile pas ?</h2> <pre><code class="language-javascript" data-trim="" data-noescape="" data-line-numbers="">
			<script type="text/template">
					const log = console.log;
					log('Hello!');
				</script>
		</code></pre> <p class="fragment text-green-500">Compile ✅</p></section> <section data-auto-animate=""><h2>Compile / compile pas ?</h2> <pre><code class="language-javascript" data-trim="" data-noescape="" data-line-numbers="">
			<script type="text/template">
				function count(n, callback) => {
					for (let i = 0; i < n; i++) {
						callback(i);
					}
				}
				count(10, console.log);
				</script>
		</code></pre> <p class="fragment text-red-500">Compile pas ❌</p></section> <section data-auto-animate=""><h2>Compile / compile pas ?</h2> <pre><code class="language-javascript" data-trim="" data-noescape="" data-line-numbers="">
			<script type="text/template">
					const sayHelloList = [];
					for (let name of ['Leila', 'Sarah', 'Sam']) {
						sayHelloList.push(() => {
							console.log(`Hello ${name}!`);
						});
					}
					sayHelloList[1]();
				</script>
		</code></pre> <p class="fragment text-green-500">Compile ✅</p></section></section> <section><section><h1>Manipulation de tableau</h1> <h2>En fonctionnel</h2></section> <section><h2>.forEach</h2> <pre><code class="language-javascript" data-trim="" data-noescape="" data-line-numbers="">
			<script type="text/template">
					const names = ['Leila', 'Sarah', 'Sam'];
					names.forEach((name) => {
						console.log(`Hello ${name}!`);
					});
				</script>
		</code></pre></section> <section><h2>.map</h2> <pre><code class="language-javascript" data-trim="" data-noescape="" data-line-numbers="">
			<script type="text/template">
					const names = ['Leila', 'Sarah', 'Sam'];
					const greetingList = names.map((name) => `Hello ${name}!`);
					console.log(greetingList); // ['Hello Leila!', 'Hello Sarah!', 'Hello Sam!']
				</script>
		</code></pre></section> <section data-auto-animate=""><h2>.filter</h2> <pre data-id="code-animation-2">			<code class="language-js" data-trim="" data-noescape="" data-line-numbers="">
						<script type="text/template">
					const names = ['Leila', 'Sarah', 'Sam'];
					const namesStartingWithS = names.filter((name) => name.startsWith('S'));

					console.log(namesStartingWithS); // ['Sarah', 'Sam']
				</script>
					
				</code></pre></section> <section data-auto-animate=""><h2>.find</h2> <pre>		<code class="language-js" data-trim="" data-noescape="" data-line-numbers="">
			<script type="text/template">
					const books = [
						{ title: '1984', author: 'George Orwell' },
						{ title: 'To Kill a Mockingbird', author: 'Harper Lee' },
						{ title: 'The Lord of the Rings', author: 'J. R. R. Tolkien' }
					];
					const book1984 = books.find((book) => book.title === '1984');
					console.log(book1984.author); // 'George Orwell'
				</script>
			</code></pre></section> <section data-auto-animate=""><h2>.sort</h2> <pre>		<code class="language-js" data-trim="" data-noescape="" data-line-numbers="">
			<script type="text/template">
					const animals = ['cat', 'snake', 'elephant', 'horse', 'ant'];
					const sortedNames = names.sort(); // Trie alphabétique

					const sortByLength = (a, b) => a.length - b.length;
					const sortedNamesByLength = names.sort(sortByLength); // Trie par longueur
				</script>
			</code></pre></section></section> <section><h1>À vous de jouer !</h1> <h2>Dans l'ordre :</h2> <ol><li>Finir le <a href="../2-manipulation-du-DOM">TP précédent</a></li> <li>Faire les exercices sur cette page</li></ol></section><!----></div></div></div><!----> <h2>Exercices / TP</h2> <p>Dans ce TP, nous allons nous concentrer sur les fonctions et la manipulation de tableau en JavaScript. Nous utiliserons des tests pour vérifier que nos fonctions sont correctes. Le but est de se familiariser avec ces aspects, afin d’attaquer les prochains TP avec plus de sérénité.</p> <h3>Mise en place</h3> <p>Ce TP est disponible sur gitlab. La première étape est de le cloner sur votre machine, c’est à dire de le télécharger avec git. Ouvrez un terminal et tapez la commande suivante :</p> <!----><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#6F42C1">git</span><span style="color:#032F62"> clone</span><span style="color:#032F62"> https://sources.univ-jfc.fr/techno-web-2/tp-3.git</span></span></code></pre><!----> <p>Utilisez les identifiants de votre compte universitaire pour vous connecter.</p> <blockquote><p><em>Si cela ne fonctionne pas, vous pouvez vous rendre sur le lien suivant : <a href="https://sources.univ-jfc.fr/techno-web-2/tp-3" rel="nofollow">https://sources.univ-jfc.fr/techno-web-2/tp-3</a>, cliquer sur le bouton « Code » et télécharger le fichier zip.</em></p></blockquote> <p>Installer les dépendances du projet :</p> <!----><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#005CC5">cd</span><span style="color:#032F62"> tp-3</span></span>
<span class="line"><span style="color:#6F42C1">npm</span><span style="color:#032F62"> install</span></span></code></pre><!----> <p>Ouvrez le dossier <code>tp-3</code> dans votre éditeur de code. Vous pouvez le faire avec la commande suivante :</p> <!----><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#6F42C1">code</span><span style="color:#032F62"> .</span></span></code></pre><!----> <h4>Tests</h4> <p>Dans le terminal, lancez les tests avec la commande suivante :</p> <!----><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#6F42C1">npm</span><span style="color:#032F62"> test</span></span></code></pre><!----> <p>Tout est en rouge, c’est normal, les tests ne passent pas. Au fur et à mesure que vous compléterez les exercices, les tests passeront au vert.</p> <p>Vous pouvez laisser le terminal ouvert, les tests se relanceront automatiquement à chaque modification de votre code.</p> <div class="bg-blue-100 border-l-4 border-blue-500 px-4 py-2"><p class="font-bold text-blue-700"><!----><div slot="title">Pas de navigateur ?</div><!----></p> <!----><p>Le JavaScript que vous allez écrire dans ce TP ne sera pas exécuté dans un navigateur. Nous allons utiliser NodeJS pour exécuter notre code, et le framework vitest pour faire tourner les tests.</p> <p>Dans la pratique, vous n’aurez pas besoin de vous soucier de cet aspect, vous pouvez vous concentrer sur l’écriture de votre code, c’est le même JavaScript que vous utilisez dans le navigateur.</p><!----></div><!----> <p><strong>Important</strong> : les trois exercices sont indépendants, et de difficulté croissante. Si vous bloquez sur un exercice, vous pouvez passer à l’exercice suivant. N’hésitez pas à demander de l’aide si vous êtes bloqué, ou si un énoncé n’est pas clair.</p> <h3>Exercice 1 : fonctions</h3> <p>Ouvrez le fichier <code>exercice-1.js</code> dans votre éditeur de code. Il contient plusieurs fonctions à compléter. Chaque fonction a une description de ce qu’elle doit faire (au dessus). Le but de l’exercice est d’implémenter les fonctions (écrire le code) pour que les tests passent.</p> <div class="bg-blue-100 border-l-4 border-blue-500 px-4 py-2"><p class="font-bold text-blue-700"><!----><div slot="title">Description en JSDoc</div><!----></p> <!----><p>Les fonctions ont une description en JSDoc. C’est une convention pour documenter les fonctions en JavaScript. Cela permet d’avoir une description de la fonction directement dans le code, et d’avoir une description qui s’affiche au survol dans l’éditeur de code.</p> <p>La première partie contient une description de ce que fait la fonction. Ensuite, on a la liste des paramètres, avec leur type et leur description. Enfin, on a la description de la valeur de retour (si applicable), et eventuellement des exemples d’utilisation.</p><!----></div><!----> <p>Chaque fonction est testée dans le fichier <code>exercice-1.test.js</code>. La fonction est correcte si le test passe (en vert).</p> <p>Pour lancer uniquement les tests de l’exercice 1, vous pouvez lancer la commande :</p> <!----><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span>npm run test ./test/exercice-1.test.js</span></span></code></pre><!----> <p>À noter que les tests se relancent automatiquement à chaque fois que vous modifiez le fichier testé.</p> <!--[--><div class="-ml-5 border-l-2 border-dotted border-pink-500 pl-4"><span class="mr-2 inline-block rounded-full bg-pink-500 px-2 py-1 text-sm font-semibold text-white">Corrigé</span> <button class="inline-block text-sm text-gray-500 hover:text-gray-700" aria-label="Afficher la solution" aria-expanded="false" aria-controls="86pvbul6dbc"><!--[!-->Afficher<!--]--></button> <!--[!--><!--]--></div><!--]--><!----> <h3>Exercice 2 : manipulation de tableau</h3> <p>Complétez le code du fichier <code>exercice-2.js</code> pour que tous les tests de l’exercice 2 passent.</p> <!--[--><div class="-ml-5 border-l-2 border-dotted border-pink-500 pl-4"><span class="mr-2 inline-block rounded-full bg-pink-500 px-2 py-1 text-sm font-semibold text-white">Corrigé</span> <button class="inline-block text-sm text-gray-500 hover:text-gray-700" aria-label="Afficher la solution" aria-expanded="false" aria-controls="vzm1baazuu"><!--[!-->Afficher<!--]--></button> <!--[!--><!--]--></div><!--]--><!----> <h3>Exercice 3 : fonctions de manipulation du DOM</h3> <p>Complétez le code du fichier <code>exercice-3.js</code> pour que tous les tests de l’exercice 3 passent.</p> <!--[--><div class="-ml-5 border-l-2 border-dotted border-pink-500 pl-4"><span class="mr-2 inline-block rounded-full bg-pink-500 px-2 py-1 text-sm font-semibold text-white">Corrigé</span> <button class="inline-block text-sm text-gray-500 hover:text-gray-700" aria-label="Afficher la solution" aria-expanded="false" aria-controls="5obr9arsip"><!--[!-->Afficher<!--]--></button> <!--[!--><!--]--></div><!--]--><!----><!----><!--]--><!----><!----><!--]--><!----></main></div><!----><!--]--><!----></div><!----><!--]--> <!--[!--><!--]--><!--]-->
			
			<script>
				{
					__sveltekit_pqo0dy = {
						base: new URL("../../..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					Promise.all([
						import("../../../_app/immutable/entry/start.Bnp5303b.js"),
						import("../../../_app/immutable/entry/app.gFT0rYy9.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 2, 3, 9],
							data: [{"type":"data","data":null,"uses":{}},null,null,null],
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
