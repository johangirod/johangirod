<!doctype html>
<html lang="fr">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../../../favicon.png" />

		<meta name="viewport" content="width=device-width" />
		
		<link href="../../../_app/immutable/assets/0.DeOizrWX.css" rel="stylesheet">
		<link href="../../../_app/immutable/assets/2.Dz1qT87F.css" rel="stylesheet">
		<link href="../../../_app/immutable/assets/Reveal.BYkb6MAx.css" rel="stylesheet">
		<link rel="modulepreload" href="../../../_app/immutable/entry/start.Bnp5303b.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/Cugo8Sw9.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/_Roc1N7j.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/Du4uIILg.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/DYGiXs1v.js">
		<link rel="modulepreload" href="../../../_app/immutable/entry/app.gFT0rYy9.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/jKjWACjA.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/CozvbqRy.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/CU3E0FLs.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/B4pklceG.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/pFiT_qqh.js">
		<link rel="modulepreload" href="../../../_app/immutable/nodes/0.BjDQT2Bq.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/CMei0t4b.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/Bgovi1YL.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/D4AmcDfz.js">
		<link rel="modulepreload" href="../../../_app/immutable/nodes/2.CBLjlu0K.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/B0BGekoV.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/BMkXc6el.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/Cv3pZryr.js">
		<link rel="modulepreload" href="../../../_app/immutable/nodes/3.B95jCVCL.js">
		<link rel="modulepreload" href="../../../_app/immutable/nodes/13.jVp7UVq3.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/Cs1o_ong.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/DyuDGlf2.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/OjqImkSQ.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/Dayddfh2.js"><!--[--><!--]--><!--[--><!--]--><title>Johan Girod</title>
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents"><!--[--><!--[--><!----><div class="screen:container prose-h2 container prose prose-slate mx-auto my-12 px-4 lg:prose-xl prose-headings:text-slate-800 prose-h1:font-semibold prose-a:transition prose-a:duration-75 hover:prose-a:text-pink-500 lg:px-0 print:mx-0 print:max-w-none"><!----><!--[--><!----><div class="lg:prose-lg"><div style="view-transition-name: breadcrumb"><div class="mb-2 inline" role="list"><!--[--><li class="inline-block"><a href="/" class="text-pink-600" aria-label="Accueil">Accueil</a> <!--[--><span class="mx-2 text-gray-500">/</span><!--]--></li><li class="inline-block"><a href="/cours/" class="text-pink-600" aria-label="Cours et TP">Cours et TP</a> <!--[--><span class="mx-2 text-gray-500">/</span><!--]--></li><li class="inline-block"><a href="http://sveltekit-prerender/cours/tw2/7-json-et-stockage-local/" class="text-pink-600" aria-label="...">...</a> <!--[!--><!--]--></li><!--]--></div><!----> <!--[--><span class="ml-2 inline-block rounded-full bg-pink-500 px-2 py-1 text-sm font-semibold text-white">Avec corrigé</span><!--]--></div> <main class="mt-8 prose-h1:inline-block prose-h1:border-y-8 prose-h1:border-pink-500 prose-h1:px-2 prose-h1:pb-3 prose-h1:pt-2 prose-h1:text-4xl prose-h2:text-3xl"><!----><!--[--><!----><!----><!--[!--><!----><div class="prose-code:radius-none prose-code:font-mono prose-code:font- mt-14 prose-h1:text-5xl prose-h2:text-3xl prose-h2:text-pink-500 prose-p:text-2xl prose-blockquote:text-2xl prose-blockquote:font-normal prose-blockquote:text-pink-500 prose-code:w-auto prose-code:rounded prose-pre:bg-slate-100 prose-pre:text-left prose-pre:text-xl prose-li:text-left prose-li:text-2xl md:-ml-14 md:-mr-14"><div class="reveal rounded-md border border-gray-200 shadow-lg svelte-1xe5mne"><!--[--><div class="absolute z-50 flex h-full w-full items-center justify-center bg-white"><div class="absolute z-50 flex h-full w-full items-center justify-center bg-white"><div class="h-32 w-32 animate-spin"><svg class="h-full w-full text-pink-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0
                                3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg></div></div></div><!--]--> <div class="slides"><!----><section><h1>Stockage côté client</h1> <h2 class="text-pink-500">JSON, <code>localStorage</code> et <code>sessionStorage</code></h2> <p class="text-gray-500">Johan Girod</p></section> <section><section><h1>Le format JSON</h1></section> <section data-auto-animate="true"><h2>Qu'est-ce que JSON ?</h2> <p class="lead">JavaScript Object Notation</p> <ul><li class="fragment">Format de données <strong>textuel</strong> et <strong>léger</strong></li> <li class="fragment">Basé sur la <strong>syntaxe des objets</strong> en JavaScript</li> <li class="fragment">Utilisé pour <strong>échanger des données</strong> entre applications</li></ul></section> <section data-auto-animate="true"><h2>Syntaxe JSON</h2> <ul><li>Un objet : ensemble de paires clé/valeur</li> <li>Un tableau : collection ordonnée de valeurs</li></ul> <pre><code class="language-json" data-trim="" data-noescape=""><script type="text/template">
{
  "name": "John",
  "age": 30,
  "isStudent": false,
  "hobbies": ["reading", "swimming", "coding"],
  "address": {
    "street": "123 Main St",
    "city": "Paris",
    "country": "France"
  }
}
				</script><!----></code></pre></section> <section data-auto-animate="true"><h2>Types de données de base</h2> <ul><li><strong>Chaînes de caractères</strong> : entourées de guillemets doubles <code>"Hello world"</code></li> <li class="fragment"><strong>Nombres</strong> : entiers ou décimaux <code>42, 3.14</code></li> <li class="fragment"><strong>Booléens</strong> : <code>true</code>, <code>false</code></li> <li class="fragment"><strong><code>null</code></strong> : valeur spéciale</li></ul></section> <section><h2>Différences avec JavaScript</h2> <ul><li>Les <strong>noms des propriétés</strong> doivent être entre guillemets doubles</li> <li>Pas de <strong>commentaires</strong></li> <li>Pas de <strong>fonctions</strong> ou de <strong>méthodes</strong></li> <li>Pas de <strong>undefined</strong> (utiliser null à la place)</li> <li>Pas de type <code>Date</code></li></ul></section> <section><h2>Transformer des données en JSON</h2> <pre><code class="language-js" data-trim="" data-noescape=""><script type="text/template">
					const person = {
						name: 'Alice',
						age: 25,
						hobbies: ['swimming', 'reading']
					};

					// Transformer en chaîne JSON
					const jsonString = JSON.stringify(person);
					console.log(jsonString);
					// '{"name":"Alice","age":25,"hobbies":["swimming","reading"]}'
				</script><!----></code></pre></section> <section><h2>Transformer du JSON en objet JavaScript</h2> <pre><code class="language-js" data-trim="" data-noescape=""><script type="text/template">
					const jsonString = '{"name":"Alice","age":25,"hobbies":["swimming","reading"]}';

					// Transformer en objet JavaScript
					const person = JSON.parse(jsonString);
					console.log(person.name); // Alice
					console.log(person.hobbies[0]); // swimming
				</script><!----></code></pre></section></section> <section><section><h1>Stockage côté client</h1> <h2 class="text-pink-500"><code>localStorage</code> et <code>sessionStorage</code></h2></section> <section><h2>Pourquoi stocker des données côté client ?</h2> <ul><li class="fragment">Conserver des <strong>préférences utilisateur</strong></li> <li class="fragment">Mémoriser l'<strong>état d'une application</strong></li> <li class="fragment">Stocker des données <strong>hors connexion</strong></li> <li class="fragment">Améliorer la <strong>confidentialité</strong> et la <strong>performance</strong> en limitant
				les données envoyées au serveur</li></ul></section> <section><h2>Les technologies de stockage</h2> <div class="overflow-hidden text-sm"><table class="w-full table-auto"><thead><tr class="bg-gray-100"><th class="border border-gray-300 p-3">Technologie</th><th class="border border-gray-300 p-3">Capacité</th><th class="border border-gray-300 p-3">Complexité</th><th class="border border-gray-300 p-3">Type de données</th></tr></thead><tbody><tr><td class="border border-gray-300 p-3">Cookies</td><td class="border border-gray-300 p-3">~4Ko</td><td class="border border-gray-300 p-3">Simple</td><td class="border border-gray-300 p-3">Texte</td></tr><tr class="bg-sky-50 font-bold"><td class="border border-gray-300 p-3">localStorage</td><td class="border border-gray-300 p-3">~5Mo</td><td class="border border-gray-300 p-3">Simple</td><td class="border border-gray-300 p-3">Texte</td></tr><tr class="bg-sky-50 font-bold"><td class="border border-gray-300 p-3">sessionStorage</td><td class="border border-gray-300 p-3">~5Mo</td><td class="border border-gray-300 p-3">Simple</td><td class="border border-gray-300 p-3">Texte</td></tr><tr><td class="border border-gray-300 p-3">IndexedDB</td><td class="border border-gray-300 p-3">Sans limite pratique</td><td class="border border-gray-300 p-3">Complexe</td><td class="border border-gray-300 p-3">Variés (objets, fichiers...)</td></tr><tr><td class="border border-gray-300 p-3">Cache API</td><td class="border border-gray-300 p-3">Variable</td><td class="border border-gray-300 p-3">Moyenne</td><td class="border border-gray-300 p-3">Requêtes/Réponses</td></tr></tbody></table></div></section> <section><h2>Comparaison localStorage et sessionStorage</h2> <div class="overflow-hidden text-lg text-gray-800"><table class="w-full table-auto"><thead><tr><th class="border border-gray-300 p-3"></th><th class="border border-gray-300 p-3">localStorage</th><th class="border border-gray-300 p-3">sessionStorage</th></tr></thead><tbody><tr><td class="border border-gray-300 p-3 font-bold">Durée</td><td class="border border-gray-300 p-3">Permanent</td><td class="border border-gray-300 p-3">Temporaire, jusqu'à fermeture de l'onglet</td></tr><tr><td class="border border-gray-300 p-3 font-bold">Portée</td><td class="border border-gray-300 p-3">Onglets de même origine*</td><td class="border border-gray-300 p-3">Uniquement l'onglet courant</td></tr><tr><td class="border border-gray-300 p-3 font-bold">Valeurs</td><td class="border border-gray-300 p-3" colspan="2">Uniquement des chaînes de caractères</td></tr><tr><td class="border border-gray-300 p-3 font-bold">API</td><td class="border border-gray-300 p-3" colspan="2">Identique</td></tr></tbody></table></div> <p class="text-sm text-gray-600">* Une <strong>origine</strong> correspond à un domaine (ou sous-domaine) + protocole + port</p></section></section> <section><section><h1>Utilisation de localStorage</h1></section> <section><h2>Stocker une donnée</h2> <p><code>localStorage.setItem(key, value)</code></p> <pre><code class="language-js" data-trim="" data-noescape=""><script type="text/template">
					// Stockage d'une valeur simple
					localStorage.setItem('username', 'alice');
					localStorage.setItem('isLoggedIn', 'false');
					localStorage.setItem('lastVisit', new Date().toString());

					// Stockage d'un objet (doit être transformé en chaîne)
					const user = {
						id: 123,
						name: 'Alice',
						role: 'admin'
					};

					localStorage.setItem('currentUser', JSON.stringify(user));
				</script><!----></code></pre></section> <section><h2>Récupérer une donnée</h2> <p><code>localStorage.getItem(key)</code></p> <pre><code class="language-js" data-trim="" data-noescape=""><script type="text/template">
					// Récupérer une valeur simple
					const username = localStorage.getItem('username');
					console.log(username); // 'alice'

					// Attention : tout est stocké sous forme de chaîne
					const isLoggedIn = localStorage.getItem('isLoggedIn');
					console.log(isLoggedIn); // 'false' (chaîne de caractères, pas un booléen)

					// Conversion de types si nécessaire
					const isLoggedInBool = localStorage.getItem('isLoggedIn') === 'true';
					console.log(isLoggedInBool); // false (booléen)
				</script><!----></code></pre></section> <section><h2>Récupérer un objet JSON</h2> <pre><code class="language-js" data-trim="" data-noescape=""><script type="text/template">
					// Récupérer et parser un objet JSON
					const userJSON = localStorage.getItem('currentUser');
					const user = JSON.parse(userJSON);

					console.log(user.name); // 'Alice'
					console.log(user.role); // 'admin'

					// Gestion des erreurs
					try {
						const data = JSON.parse(localStorage.getItem('invalidJSON'));
						// Utiliser data
					} catch (error) {
						console.error('Erreur de parsing JSON:', error);
					}
				</script><!----></code></pre></section> <section><h2>Supprimer des données</h2> <p><code>localStorage.removeItem(key)</code></p> <pre><code class="language-js" data-trim="" data-noescape=""><script type="text/template">
					// Supprimer une entrée spécifique
					localStorage.removeItem('username');

					// Supprimer toutes les entrées
					localStorage.clear();
				</script><!----></code></pre></section></section> <section><section><h1>Utilisation de sessionStorage</h1></section> <section><h2>API identique à localStorage</h2> <p>sessionStorage utilise exactement la même API que localStorage</p> <pre><code class="language-js" data-trim="" data-noescape=""><script type="text/template">
					// Stocker une valeur
					sessionStorage.setItem('searchQuery', 'JavaScript tutorial');

					// Récupérer une valeur
					const query = sessionStorage.getItem('searchQuery');

					// Supprimer une valeur
					sessionStorage.removeItem('searchQuery');

					// Tout effacer
					sessionStorage.clear();
				</script><!----></code></pre></section> <section><h2>Exemple d'utilisation</h2> <div class="grid grid-cols-2 gap-4"><div><h3>localStorage</h3> <ul><li>Préférences utilisateur (thème choisi, etc)</li> <li>Tokens d'authentification</li> <li>Panier d'achat</li> <li>Données de formulaires longs</li></ul></div> <div><h3>sessionStorage</h3> <ul><li>Données temporaires de formulaires</li> <li>États d'interface utilisateur</li> <li>Valeurs de filtres de recherche</li> <li>Dernière position de défilement</li></ul></div></div></section></section> <section><section><h1>Points importants</h1></section> <section><h2>Limites et considérations</h2> <ul><li class="fragment"><strong>Synchrone</strong> : les opérations bloquent le thread principal</li> <li class="fragment"><strong>Stockage limité</strong> : 5 Mo par domaine en général</li> <li class="fragment"><strong>Persistence limitées</strong> : les données peuvent être effacées par l'utilisateur ou
				le navigateur et ne sont pas synchronisées entre les appareils</li> <li class="fragment"><strong>Données en clair</strong> : les données sont stockées en clair et peuvent être lues par
				des scripts tiers</li></ul></section> <section><h2>Bonnes pratiques</h2> <ul><li>Utiliser des <strong>préfixes</strong> pour organiser les clés<br> <p><code>localStorage.setItem('appTheme:dark', 'true');</code></p></li> <li>Regrouper les données reliées dans un seul objet JSON</li> <li>Gérer les erreurs (parsing, quota, disponibilité de l'API)</li></ul> <pre class="fragment"><code class="language-js" data-trim="" data-noescape=""><script type="text/template">
					// Vérifier la disponibilité
					if (typeof Storage !== 'undefined') {
						// localStorage/sessionStorage disponible
					} else {
						// Pas de support, utiliser une alternative
					}
				</script><!----></code></pre></section></section> <section><h1>À vous de jouer !</h1> <h2>johangirod.com/cours</h2></section><!----></div></div></div><!----> <h2>TP 7 : Quizz Creator</h2> <p>Nous allons créer une application web qui permet de créer des quizz, et d’y jouer.</p> <p>Notre application sera composée de deux parties :</p> <ul><li>Une page de création de quizz <code>/create</code></li> <li>Une page de jeu <code>/play</code></li></ul> <p>Cela veut dire qu’il y aura deux fichiers HTML, un pour chaque page, et un fichier JavaScript pour chaque page.</p> <h3>Création du projet</h3> <p>Cloner le repo du projet avec la commande suivante :</p> <!----><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#6F42C1">git</span><span style="color:#032F62"> clone</span><span style="color:#032F62"> https://sources.univ-jfc.fr/techno-web-2/tp7-quizzcreator.git</span></span></code></pre><!----> <p>Le projet contient déjà les fichiers suivants :</p> <ul><li><code>create.html</code> : la page de création de quizz</li> <li><code>style.css</code> : le fichier de style</li> <li><code>create.js</code> : le fichier JavaScript de la page de création</li></ul> <p>Pour tester le projet, vous pouvez installer l’exension <code>Live Server</code> dans Visual Studio Code.</p> <p>Faites un clic droit sur le fichier <code>create.html</code> et cliquez sur <code>Open with Live Server</code>. La page devrait s’ouvrir dans votre navigateur.</p> <h3>Page de création de quizz</h3> <p>La page de création de quizz contiendra un formulaire qui permettra de saisir les questions et les réponses possibles.</p> <p>Ouvrez le fichier <code>create.html</code> et prenez un temps pour vous familiariser avec le code HTML.</p> <div class="bg-blue-100 border-l-4 border-blue-500 px-4 py-2"><p class="font-bold text-blue-700"><!----><div slot="title">Structure des formulaires</div><!----></p> <!----><p>Dans ce formulaire, nous utilisons plusieurs éléments importants pour l’accessibilité et l’experience utilisateur en général :</p> <ul><li><code>&lt;label></code> associé aux champs avec l’attribut <code>for</code> qui correspond à l’id du champ <code>&lt;fieldset></code> qui regroupe les champs liés avec une <code>&lt;legend></code> qui explique le groupe</li> <li>L’attribut <code>required</code> qui indique que le champ est obligatoire</li> <li>Des boutons radio (<code>&lt;input type="radio"></code> : <input type="radio">) pour selectionner une réponse parmi plusieurs</li> <li>Un bouton de type <code>submit</code> pour envoyer le formulaire</li></ul><!----></div><!----> <p>A votre avis, quelles sont les fonctionnalités que nous devons implémenter pour cette page ?</p> <h4>1. Récupération des données du formulaire</h4> <p>Pour cela, vous allez ajouter un écouteur d’événement sur le formulaire pour intercepter l’événement de soumission.</p> <!----><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#24292E">document.</span><span style="color:#6F42C1">querySelector</span><span style="color:#24292E">(</span><span style="color:#032F62">'form'</span><span style="color:#24292E">).</span><span style="color:#6F42C1">addEventListener</span><span style="color:#24292E">(</span><span style="color:#032F62">'submit'</span><span style="color:#24292E">, (</span><span style="color:#E36209">event</span><span style="color:#24292E">) </span><span style="color:#D73A49">=></span><span style="color:#24292E"> &#123;</span></span>
<span class="line"><span style="color:#24292E">	event.</span><span style="color:#6F42C1">preventDefault</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#D73A49">	const</span><span style="color:#005CC5"> formData</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> new</span><span style="color:#6F42C1"> FormData</span><span style="color:#24292E">(event.target);</span></span>
<span class="line"><span style="color:#24292E">	console.</span><span style="color:#6F42C1">log</span><span style="color:#24292E">(Object.</span><span style="color:#6F42C1">fromEntries</span><span style="color:#24292E">(formData));</span></span>
<span class="line"><span style="color:#24292E">&#125;);</span></span></code></pre><!----> <p>A quoi ressemble l’objet <code>formData</code> ? Comment est-il créé à votre avis ?</p> <h4>2. Stockage des données</h4> <p>Les questions vont être stockées sous forme d’un tableau d’objets dans le <code>localStorage</code>.</p> <p>Chaque question est représentée par un objet avec la structure suivante :</p> <!----><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#24292E">&#123;</span></span>
<span class="line"><span style="color:#005CC5">	"text"</span><span style="color:#24292E">: </span><span style="color:#032F62">"Quelle est la capitale de la France ?"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">	"answers"</span><span style="color:#24292E">: [</span><span style="color:#032F62">"Paris"</span><span style="color:#24292E">, </span><span style="color:#032F62">"Londres"</span><span style="color:#24292E">, </span><span style="color:#032F62">"Berlin"</span><span style="color:#24292E">, </span><span style="color:#032F62">"Madrid"</span><span style="color:#24292E">],</span></span>
<span class="line"><span style="color:#005CC5">	"correct"</span><span style="color:#24292E">: </span><span style="color:#005CC5">0</span></span>
<span class="line"><span style="color:#24292E">&#125;</span></span></code></pre><!----> <p>Faire en sorte que les questions soient stockées dans le <code>localStorage</code> sous la clé <code>questions</code>, à chaque fois qu’une question est ajoutée.</p> <p>Vous devrez penser à :</p> <ul><li>Récupérer les questions déjà enregistrées</li> <li>Ajouter la nouvelle question</li> <li>Stocker le tout dans le <code>localStorage</code></li> <li>Réinitialiser le formulaire après l’ajout de la question</li> <li>Gérer le cas où il n’y a pas de questions déjà existantes</li></ul> <p>N’oubliez pas, pour stocker un objet dans le <code>localStorage</code>, vous devez le transformer en chaîne de caractères avec <code>JSON.stringify</code>.</p> <!--[--><div class="-ml-5 border-l-2 border-dotted border-pink-500 pl-4"><span class="mr-2 inline-block rounded-full bg-pink-500 px-2 py-1 text-sm font-semibold text-white">Corrigé</span> <button class="inline-block text-sm text-gray-500 hover:text-gray-700" aria-label="Afficher la solution" aria-expanded="false" aria-controls="juv3rjeux2"><!--[!-->Afficher<!--]--></button> <!--[!--><!--]--></div><!--]--><!----> <h4>3. Affichage des questions</h4> <p>Nous souhaitons afficher les questions précédemment ajoutées sous forme de liste en dessous du formulaire.</p> <p>Pour cela, vous allez créer une fonction <code>renderQuestions</code> qui sera appelée à chaque fois qu’une question est ajoutée avec la liste des questions en paramètre.</p> <!----><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D"> * Affiche les questions dans la liste</span></span>
<span class="line"><span style="color:#6A737D"> * </span><span style="color:#D73A49">@param</span><span style="color:#6F42C1"> &#123;Array&#x3C;string>&#125;</span><span style="color:#24292E"> questions</span><span style="color:#6A737D"> - Les questions à afficher</span></span>
<span class="line"><span style="color:#6A737D"> */</span></span>
<span class="line"><span style="color:#D73A49">function</span><span style="color:#6F42C1"> renderQuestion</span><span style="color:#24292E">(</span><span style="color:#E36209">questions</span><span style="color:#24292E">)</span></span></code></pre><!----> <!--[--><div class="-ml-5 border-l-2 border-dotted border-pink-500 pl-4"><span class="mr-2 inline-block rounded-full bg-pink-500 px-2 py-1 text-sm font-semibold text-white">Corrigé</span> <button class="inline-block text-sm text-gray-500 hover:text-gray-700" aria-label="Afficher la solution" aria-expanded="false" aria-controls="4jln552mpt8"><!--[!-->Afficher<!--]--></button> <!--[!--><!--]--></div><!--]--><!----> <h3>Page de jeu</h3> <p>La page de jeu contiendra un formulaire qui permettra de répondre aux questions. Les questions seront posées une par une.</p> <p>Pour cela, vous allez :</p> <ul><li>Créer un fichier <code>play.html</code></li> <li>Créer un fichier <code>play.js</code></li> <li>Créer un formulaire HTML dans <code>play.html</code> avec un champ pour la question et des boutons radio pour les réponses</li> <li>Récupérer cinq questions aléatoires parmis celles stockées dans le <code>localStorage</code>.</li> <li>Afficher la première question</li> <li>Gérer la soumission du formulaire pour passer à la question suivante</li> <li>Enregistrer les réponses de l’utilisateur au fur et à mesure</li></ul> <h4><code>sessionStorage</code></h4> <p>Nous avons un quizz qui fonctionne, mais il y a un problème : si on recharge la page, on perd toutes les réponses !</p> <p>Pour résoudre ce problème, nous allons utiliser le <code>sessionStorage</code> pour stocker l’état du quizz. Les données stockées seront :</p> <ul><li>Les questions du quizz</li> <li>Le score de l’utilisateur</li> <li>L’index de la question en cours</li></ul> <p>A chaque fois qu’une question est répondue, on met à jour le <code>sessionStorage</code>.</p> <p>Et au chargement de la page, on vérifie si des données sont présentes dans le <code>sessionStorage</code> pour les charger.</p> <h3>Page résultat</h3> <p>A la fin du quizz, on souhaite afficher le score de l’utilisateur. Pour cela, vous allez créer une page <code>result.html</code> et un fichier <code>result.js</code>.</p> <p>Au chargement de la page, vous devrez récupérer les réponses de l’utilisateur dans le <code>sessionStorage</code>, et calculer le score, puis l’afficher.</p> <p>Il reste à afficher un bouton « Voir les résultats » sur la page de jeu qui redirigera vers la page de résultat, lorsque le quizz est terminé.</p><!----><!--]--><!----><!----><!--]--><!----></main></div><!----><!--]--><!----></div><!----><!--]--> <!--[!--><!--]--><!--]-->
			
			<script>
				{
					__sveltekit_pqo0dy = {
						base: new URL("../../..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					Promise.all([
						import("../../../_app/immutable/entry/start.Bnp5303b.js"),
						import("../../../_app/immutable/entry/app.gFT0rYy9.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 2, 3, 13],
							data: [{"type":"data","data":null,"uses":{}},null,null,null],
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
